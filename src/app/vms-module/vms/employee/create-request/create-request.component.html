<ngx-spinner bdOpacity = 0.9 bdColor = "#333" size = "large" color = "#fff" type = "ball-atom" fullScreen = "false">
  <p style="color: white" > Loading... </p>
</ngx-spinner>
<!-- 
    Chosen name: {{ visitorForm.controls.visitors.controls[i].controls.name.value }} -->
<div class="jumbotron create-request">
  <form class="form-horizontal" [formGroup]="visitorForm">
    <div formArrayName="visitors" *ngFor="let item of visitorForm.controls.visitors.controls; let i = index;">
      <div [formGroupName]="i">
        <app-form-control [name]="'requesterName'" [display]="'Requester Name'" [control]="item.controls.requesterName"></app-form-control>
        <app-form-control [name]="'requesterId'" [display]="'Requester Employee Id'" [control]="item.controls.requesterId"></app-form-control>
        <app-form-control [name]="'visitorName'" [display]="'Visitor Name'" [control]="item.controls.visitorName"></app-form-control>
        <app-form-control [name]="'visitorMobileNo'" [display]="'Visitor Mobile No'" [control]="item.controls.visitorMobileNo"></app-form-control>
        <app-form-control [name]="'visitorEmailId'" [display]="'Visitor Email Id'" [control]="item.controls.visitorEmailId"></app-form-control>
         <div class="form-group">
          <label class="control-label col-sm-2" [for]="visitorUIdType">Visitor Unique Id Type</label>
          <div class="col-sm-10">
            <div class="row">
              <div class="col-sm-6">
                <label class="custom-select" for="visitorUIdType">
                  <select id="visitorUIdType" name="visitorUIdType" formControlName="visitorUIdType">
                    <option value="">Select an option</option>
                    <option>Aadhar Card</option>
                    <option>PAN Card</option>
                    <option>Passport Number</option>
                  </select>
                </label>
              </div>
              <div class="col-sm-6">
                <app-error-component [control]="item.controls.visitorUIdType" [display]="'Visitor Unique Id Type'"></app-error-component>
              </div>
            </div>
          </div>
        </div>
        <app-form-control [name]="'visitorUId'" [display]="'Visitor Unique Id'" [control]="item.controls.visitorUId"></app-form-control>
        <div class="form-group">
          <label class="control-label col-sm-2" [for]="visitLocation">Visit Location</label>
          <div class="col-sm-10">
            <div class="row">
              <div class="col-sm-6">
                <label class="custom-select" for="visitLocation">
                  <select id="visitLocation" name="visitLocation" formControlName="visitLocation">
                    <option value="">Select an option</option>
                    <option>Bangalore</option>
                    <option>Bhubaneswar</option>
                    <option>Chandigarh</option>
                    <option>Chennai</option>
                    <option>Gurgaon</option>
                    <option>Hyderabad STP: Pearl Park</option>
                    <option>Hyderabad SEZ: Prakriti Park</option>
                    <option>Indore</option>
                    <option>Jaipur</option>
                    <option>Mangalore</option>
                    <option>Mangalore SEZ</option>
                    <option>Mohali</option>
                    <option>Mysore</option>
                    <option>Nagpur</option>
                    <option>Pune</option>
                    <option>Thiruvananthapuram</option>
                  </select>
                </label>
              </div>
              <div class="col-sm-6">
                <app-error-component [control]="item.controls.visitLocation" [display]="'Visit Location'"></app-error-component>
              </div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label class="control-label col-sm-2" [for]="visitorFromDate">Visitor Entry Date</label>
          <div class="col-sm-10">
            <div class="row">
              <div class="col-sm-6">
                <my-date-picker name="visitorFromDate" [options]="myDatePickerOptions" formControlName="visitorFromDate"></my-date-picker>
              </div>
              <div class="col-sm-6">
                <app-error-component [control]="item.controls.visitorFromDate" [display]="'asdasd'"></app-error-component>
              </div>
            </div>
          </div>
        </div>
        <div class="form-group">
            <label class="control-label col-sm-2" [for]="visitorToDate">Visitor Exit Date</label>
            <div class="col-sm-10">
              <div class="row">
                <div class="col-sm-6">
                  <my-date-picker name="visitorToDate" [options]="myDatePickerOptions" formControlName="visitorToDate"></my-date-picker>
                </div>
                <div class="col-sm-6">
                  <app-error-component [control]="item.controls.visitorToDate" [display]="'asdasd'"></app-error-component>
                </div>
              </div>
            </div>
        </div>
        <app-form-control [name]="'remarks'" [display]="'Any Additional Remarks'" [control]="item.controls.remarks"></app-form-control>
      </div>   
    </div>
    <button class="button" (click)="addItem()">Add Visitor</button>
    <button class="button" (click)="submitForm()">Submit</button>
    <button class="button" (click)="createForm()">Reset</button> 
  </form>
</div>